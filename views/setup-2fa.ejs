<%- include('partials/header', { title: 'Setup 2FA', user: null }) %>
<link rel="stylesheet" href="/css/styles.css">

<div class="container" style="max-width: 400px; margin: auto; padding: 20px;">
  <h1 class="mb-4 text-center">Setup Two-Factor Authentication</h1>

  <% if (error) { %>
    <p style="color: red; background: #ffe6e6; padding: 10px; border-radius: 5px; text-align: center;">
      <%= error %>
    </p>
  <% } %>

  <p class="text-center">Scan this QR code in Google Authenticator:</p>
  <div class="text-center">
    <img src="<%= qrCode %>" alt="QR Code" class="img-fluid" style="max-width: 200px;">
  </div>

  <form action="/auth/enable-2fa" method="POST" class="d-grid gap-3 text-start mt-3">
    <div>
      <label for="otp" class="form-label">Enter OTP from Google Authenticator:</label>
      <input type="text" name="otp" id="otp" required class="form-control" placeholder="Enter OTP code">
    </div>
    <button type="submit" class="btn btn-primary w-100">Enable 2FA</button>
  </form>

  <p class="mt-3 text-center"><a href="/profile">Skip for now</a></p>
</div>

<%- include('partials/footer') %>